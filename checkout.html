<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Checkout</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="css/checkout.css" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    .place-order button:disabled {
      opacity: 0.7;
      pointer-events: none;
    }
  </style>
</head>
<body>

<div class="container_ch mt-4">
  
   <div class="checkout_header">
      <div class="logo_ch">
         <a href="index.html"><img src="images/logo.png"></a></div>
      <h3>| Checkout</h3>
      </div>
 


  <div class="row">
    <div class="col-md-8">
      <div class="form-section">
        <h2>ðŸšš Shipping Information</h2>
<div class="row  mt-4">
   <div class="col-md-12">
        <input class="form-control" type="email" id="email" placeholder="Email Address" />
</div>
</div>

<div class="row  mt-4">
   <div class="col-md-12">
        <select class="form-select" id="country">
          <option selected disabled>Country</option>
          <option>India</option><option>USA</option><option>UK</option>
        </select>
        </div>
        </div>

<div class="row  mt-4">
          <div class="col-md-6">
            <input class="form-control" type="text" id="fname" placeholder="First Name" />
          </div>
          <div class="col-md-6">
            <input class="form-control" type="text" id="lname" placeholder="Last Name" />
          </div>
        </div>

        <div class="row  mt-4">
   <div class="col-md-12">
        <input class="form-control" type="text" id="street" placeholder="Street and House Number" />
        </div>
        </div>

        <div class="row  mt-4">
   <div class="col-md-12">
        <input class="form-control" type="text" placeholder="Apartment (Optional)" />
        </div>
        </div>


        <div class="row  mt-4">
          <div class="col-md-6">
           <input
  class="form-control"
  type="text"
  id="postal"
  placeholder="Postal Code"
  maxlength="5"
  pattern="\d{5}"
  title="Please enter a 5-digit postal code"
  required
  oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, 5);"
/>
          </div>
          <div class="col-md-6">
            <input class="form-control" type="text" id="city" placeholder="City" />
          </div>
        </div>

        <div class="row  mt-4">
   <div class="col-md-12">
        <input
  class="form-control"
  type="text"
  id="phone"
  placeholder="Phone"
  maxlength="10"
  pattern="\d{10}"
  title="Please enter a 10-digit phone number"
  required
  oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, 10);"
/>
</div>
</div>


        <div class="row  mt-4">
   <div class="col-md-12">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="billing-toggle" />
          <label class="form-check-label" for="billing-toggle">Billing Same as Shipping</label>
        </div>
        </div>
        </div>

        <!-- Billing Section -->
        <div id="billing-section" style="display: none;">
          <h4>ðŸ’³ Billing Information</h4>

        <div class="row  mt-4">
   <div class="col-md-12">
          <input class="form-control" id="bemail" placeholder="Billing Email Address" />
                    </div>
          </div>

        <div class="row  mt-4">
   <div class="col-md-12">
          <select class="form-select " id="bcountry">
            <option selected disabled>Billing Country</option>
            <option>India</option><option>USA</option><option>UK</option>
          </select>
                    </div>
          </div>


          <div class="row  mt-4">
            <div class="col-md-6">
              <input class="form-control" id="bfname" placeholder="Billing First Name" />
            </div>
            <div class="col-md-6">
              <input class="form-control" id="blname" placeholder="Billing Last Name" />
            </div>
          </div>


        <div class="row  mt-4">
   <div class="col-md-12">
          <input class="form-control" id="bstreet" placeholder="Billing Street and House Number" />
                    </div>
          </div>

        <div class="row  mt-4">
   <div class="col-md-12">
          <input class="form-control" placeholder="Billing Apartment (Optional)" />
                    </div>
          </div>


          <div class="row  mt-4">
            <div class="col-md-6">
              <input class="form-control" id="bpostal" placeholder="Billing Postal Code" />
            </div>
            <div class="col-md-6">
              <input class="form-control" id="bcity" placeholder="Billing City" />
            </div>
          </div>

        <div class="row  mt-4">
   <div class="col-md-12">
          <input class="form-control" id="bphone" placeholder="Billing Phone" />
          </div>
          </div>



        </div>
      </div>
<div class="payment_message">
<div class="alert alert-info d-flex align-items-center justify-content-center" role="alert">
  <i class="bi bi-truck me-2 fs-4"></i>
  <h3>
    This order only allows for payment via <strong>Cash on Delivery</strong>.
  </h3>
</div>
</div>


    </div>

    <!-- Right: Order Summary -->
    <div class="col-md-4">
      <div class="price-section bg-light p-3 rounded">
        <h4>Price details</h4>
        <div class="d-flex justify-content-between"><span>Items (<span id="item-count">0</span>)</span><span>â‚¹<span id="total-price">0</span></span></div>
        <div class="d-flex justify-content-between text-success"><span>Discount</span><span>- â‚¹<span id="discount">0</span></span></div>
        <div class="d-flex justify-content-between"><span>Coupon</span><span>- â‚¹<span id="coupon">10</span></span></div>
        <div class="d-flex justify-content-between delivery">
          <span>Delivery</span><span><span class="strike">â‚¹40</span> Free</span>
        </div>
        <div class="d-flex justify-content-between fw-bold"><span>Total</span><span>â‚¹<span id="final-amount">0</span></span></div>
        <hr/>
        <h5>Products:</h5>
        <ul id="product-summary-list" class="small"></ul>
        <div class="place-order text-center mt-3">
          <button class="btn btn-primary w-100">Place Your Order</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Error Modal -->
<div class="modal fade" id="errorModal" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content border-danger">
      <div class="modal-header bg-danger text-white">
        <h5 class="modal-title" id="errorModalLabel">Form Error</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body" id="errorModalBody"></div>
    </div>
  </div>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="js/checkout.js"></script>

<script>

document.addEventListener("DOMContentLoaded", function () {
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  if (!Array.isArray(cart) || cart.length === 0) {
    window.location.href = "index.html";
  }
});

</script>
</body>
</html>
